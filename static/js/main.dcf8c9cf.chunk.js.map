{"version":3,"sources":["Components/DataProcessor.js","Components/DataFormatter.js","App.js","index.js"],"names":["DataProcessor","props","setDiades","useEffect","link","callback","results","data","rows","get_diada_hash","row","diades","Object","toConsumableArray","Set","map","diades_dict","forEach","diada_hash","_ref","by_diada","filter","length","DATA","DIADA","LLOC","colla","castells_colla","castell","RONDA","_ref2","CASTELL","RESULTAT","aggregate","Papa","download","header","complete","DataFormatter","values","diada","react_default","a","createElement","className","keys","key","App","_useState","useState","_useState2","slicedToArray","Fragment","Components_DataProcessor","Components_DataFormatter","ReactDOM","createRoot","document","getElementById","render","StrictMode","src_App"],"mappings":"8KA4CeA,MAzCf,SAAuBC,GAAO,IAClBC,EAAcD,EAAdC,UAgCRC,oBAAU,WA7BO,IAACC,EAAMC,EAAND,EAFC,mKAEKC,EA8BC,SAACC,GAClB,IAAIC,EAAOD,EAAQC,KACnBL,EA1BU,SAACM,GACf,IAAMC,EAAiB,SAACC,GAAG,OAAKA,EAAU,KAAK,MAAQA,EAAW,OAC5DC,EAAMC,OAAAC,EAAA,EAAAD,CAAO,IAAIE,IAAIN,EAAKO,IAAI,SAAAL,GAAG,OAAID,EAAeC,OAEtDM,EAAc,GAgBlB,OAfAL,EAAOM,QAAQ,SAAAC,GACXF,EAAYE,GAAc,GAC1B,IAEmCC,EAF7BC,EAAWZ,EAAKa,OAAO,SAAAX,GAAG,OAAID,EAAeC,KAASQ,IACpC,IAApBE,EAASE,SACbN,EAAYE,GAAkB,KAAiC,CAAEK,MAA9BJ,EAAoDC,EAAS,IAA1DG,KAAiCC,MAAtBL,EAALK,MAAkCC,KAAvBN,EAAJM,MAEnDT,EAAYE,GAAoB,OAAI,GACrBN,OAAAC,EAAA,EAAAD,CAAO,IAAIE,IAAIM,EAASL,IAAI,SAAAL,GAAG,OAAIA,EAAW,UACnDO,QAAQ,SAAAS,GACd,IACMC,EADanB,EAAKa,OAAO,SAAAX,GAAG,OAAID,EAAeC,KAASQ,GAAcR,EAAW,QAAMgB,IAC3DX,IAAI,SAAAa,GAAO,MAAwC,CAAEC,OAArCC,EAAkEF,GAA/DC,MAAyCE,QAA3BD,EAAPC,QAA2CC,SAA1BF,EAARE,UAAnB,IAAAF,IAClDd,EAAYE,GAAoB,OAAEQ,GAASC,OAI5CX,EAMOiB,CAAU1B,KAhCS2B,QAAW9B,EAAM,CAClD+B,UAAU,EACVC,QAAQ,EACRC,SAAU,SAAC/B,GAAO,OAAKD,EAASC,OA+BjC,WCFQgC,MApCf,SAAuBrC,GAAO,IAClBU,EAAWV,EAAXU,OAER,OACIC,OAAAC,EAAA,EAAAD,CAAIA,OAAO2B,OAAO5B,IAASI,IAAI,SAAAyB,GAC3B,OACIC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACXH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,QAAQJ,EAAY,KAAQ,MAC1CC,EAAAC,EAAAC,cAAA,MAAIC,UAAU,OAAOJ,EAAY,KAAS,OAC1CC,EAAAC,EAAAC,cAAA,MAAIC,UAAU,QAAQJ,EAAY,KAAE,aACpCC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UACVhC,OAAOiC,KAAKL,EAAc,QAAGzB,IAAI,SAAAW,GAC9B,OACIe,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QAAQE,IAAKpB,GACxBe,EAAAC,EAAAC,cAAA,UAAKjB,GACLe,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACVJ,EAAc,OAAEd,GAAOX,IAAI,SAAAa,GACxB,OACIa,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SAAShB,EAAe,OACvCa,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WAAWhB,EAAiB,SAC3Ca,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YAAYhB,EAAkB,sBCJlFmB,MAhBf,WAAe,IAAAC,EACeC,mBAAS,IAAGC,EAAAtC,OAAAuC,EAAA,EAAAvC,CAAAoC,EAAA,GAAjCrC,EAAMuC,EAAA,GAAEhD,EAASgD,EAAA,GAOxB,OACET,EAAAC,EAAAC,cAAAF,EAAAC,EAAAU,SAAA,KACEX,EAAAC,EAAAC,cAACU,EAAa,CAACnD,UAAWA,IAC1BuC,EAAAC,EAAAC,cAACW,EAAa,CAAC3C,OAAQA,MCXhB4C,IAASC,WAAWC,SAASC,eAAe,SACpDC,OACHlB,EAAAC,EAAAC,cAACF,EAAAC,EAAMkB,WAAU,KACfnB,EAAAC,EAAAC,cAACkB,EAAG","file":"static/js/main.dcf8c9cf.chunk.js","sourcesContent":["import { useEffect } from \"react\";\nimport * as Papa from 'papaparse';\n\nfunction DataProcessor(props) {\n    const { setDiades } = props;\n    const link_dades = \"https://docs.google.com/spreadsheets/d/e/2PACX-1vQeAif6pgFuLUAXHif4IsrSXzG8itYhirTHGdmNzA5RmrEPcJe7lcfwfNVLBEcgnn3mZbThqaZdouiP/pub?gid=0&single=true&output=csv\";\n\n    const get_data = (link, callback) => Papa.parse(link, {\n        download: true,\n        header: true,\n        complete: (results) => callback(results) \n    });\n\n    const aggregate = (rows) => {\n        const get_diada_hash = (row) => row[\"DATA\"]  + \" - \" + row[\"DIADA\"];\n        const diades = [...new Set(rows.map(row => get_diada_hash(row)))];\n\n        let diades_dict = {};\n        diades.forEach(diada_hash => {\n            diades_dict[diada_hash] = {};\n            const by_diada = rows.filter(row => get_diada_hash(row) === diada_hash);\n            if (by_diada.length === 0) return;\n            diades_dict[diada_hash][\"info\"] = (({ DATA, DIADA, LLOC }) => ({ DATA, DIADA, LLOC }))(by_diada[0]);\n            \n            diades_dict[diada_hash][\"colles\"] = {};\n            const by_colles = [...new Set(by_diada.map(row => row[\"COLLA\"]))];\n            by_colles.forEach(colla => {\n                const only_colla = rows.filter(row => get_diada_hash(row) === diada_hash && row[\"COLLA\"] === colla);\n                const castells_colla = only_colla.map(castell => (({ RONDA, CASTELL, RESULTAT }) => ({ RONDA, CASTELL, RESULTAT }))(castell));\n                diades_dict[diada_hash][\"colles\"][colla] = castells_colla;\n            });\n        });\n\n        return diades_dict;\n    };\n\n    useEffect(() => {\n        get_data(link_dades, (results) => {\n            var data = results.data\n            setDiades(aggregate(data))\n        });\n    }, []);\n}\n\nexport default DataProcessor;\n","import React from \"react\";\nimport \"./DataFormatter.css\";\n\nfunction DataFormatter(props) {\n    const { diades } = props;\n\n    return (\n        [...Object.values(diades)].map(diada => {\n            return (\n                <div className=\"diada\">\n                    <h2 className=\"data\">{diada[\"info\"][\"DATA\"]}</h2>\n                    <h2 className=\"nom\">{diada[\"info\"][\"DIADA\"]}</h2>\n                    <h2 className=\"lloc\">{diada[\"info\"][\"PLAÃ‡A\"]}</h2>\n                    <div className=\"colles\">\n                        {Object.keys(diada[\"colles\"]).map(colla => {\n                            return (\n                                <div className=\"colla\" key={colla}>\n                                    <h3>{colla}</h3>\n                                    <div className=\"castells\">\n                                        {diada[\"colles\"][colla].map(castell => {\n                                            return (\n                                                <div className=\"castell\">\n                                                    <div className=\"ronda\">{castell[\"RONDA\"]}</div>\n                                                    <div className=\"castell\">{castell[\"CASTELL\"]}</div>\n                                                    <div className=\"resultat\">{castell[\"RESULTAT\"]}</div>\n                                                </div>\n                                            )\n                                        })}\n                                    </div>\n                                </div>\n                            );\n                        })}\n                    </div>\n                </div>\n            )\n        })\n    );\n}\n\nexport default DataFormatter;","import React, { useState } from \"react\";\nimport DataProcessor from \"./Components/DataProcessor\";\nimport DataFormatter from \"./Components/DataFormatter\";\n\nfunction App() {\n  const [diades, setDiades] = useState({});\n\n  const exports = {\n    'diades': diades,\n    'setDiades': setDiades,\n  };\n\n  return (\n    <>\n      <DataProcessor setDiades={setDiades} />\n      <DataFormatter diades={diades} />\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport App from './App';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n"],"sourceRoot":""}